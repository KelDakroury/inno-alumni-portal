<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>sections/request-pass/create-pass-request.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AccountPopover">AccountPopover</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AccountProfile">AccountProfile</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AccountProfileDetails">AccountProfileDetails</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AdminElectiveRequests">AdminElectiveRequests</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AdminPassRequests">AdminPassRequests</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AdminViewAccounts">AdminViewAccounts</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AdminViewDonations">AdminViewDonations</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#ApexChart">ApexChart</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#applyPagination">applyPagination</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AuthGuard">AuthGuard</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#AuthProvider">AuthProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#avatars">avatars</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#BankDetails">BankDetails</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Chart">Chart</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createComponents">createComponents</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#createEmotionCache">createEmotionCache</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createPalette">createPalette</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#createPassRequest">createPassRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#CreatePassRequest">CreatePassRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#createResourceId">createResourceId</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#createShadows">createShadows</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createTheme">createTheme</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#createTypography">createTypography</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#deletePassRequest">deletePassRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#ElectiveRequestTable">ElectiveRequestTable</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#ElectivesTable">ElectivesTable</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#error">error</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#exportToExcel">exportToExcel</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#generatePassword">generatePassword</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAdminDonationText">getAdminDonationText</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAllAlumniDonations">getAllAlumniDonations</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAllElectiveCourses">getAllElectiveCourses</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAllElectiveCoursesAdmin">getAllElectiveCoursesAdmin</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAllElectiveRequests">getAllElectiveRequests</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAllPassRequestAdmin">getAllPassRequestAdmin</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAllRegisteredUsers">getAllRegisteredUsers</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getBookedElectiveCourses">getBookedElectiveCourses</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getCurrentUser">getCurrentUser</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getInitials">getInitials</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getPassRequestHistory">getPassRequestHistory</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#importFromExcel">importFromExcel</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#indigo">indigo</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#info">info</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#InformationTable">InformationTable</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#initialState">initialState</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#items">items</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Layout">Layout</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#LayoutContainer">LayoutContainer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#LayoutRoot">LayoutRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#loginRegularUser">loginRegularUser</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#loginWithInnoSSO">loginWithInnoSSO</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Logo">Logo</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#makeDonationText">makeDonationText</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#neutral">neutral</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Notifier">Notifier</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#openSnackbarExported">openSnackbarExported</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#OverviewFeatureItem">OverviewFeatureItem</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#OverviewLatestProducts">OverviewLatestProducts</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#OverviewRequests">OverviewRequests</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Page">Page</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#PassRequestInfo">PassRequestInfo</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#PassRequestTable">PassRequestTable</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#PaymentQRCode">PaymentQRCode</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#processExcelCallback">processExcelCallback</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#registerAdminUser">registerAdminUser</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#registerRegularUser">registerRegularUser</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#RequestElectiveTable">RequestElectiveTable</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Scrollbar">Scrollbar</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#sendRequest">sendRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SettingsPassword">SettingsPassword</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SeverityPill">SeverityPill</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SeverityPillRoot">SeverityPillRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SideNav">SideNav</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SideNavItem">SideNavItem</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#states">states</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#statusMap">statusMap</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#style">style</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#success">success</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#SuggestDonationInterest">SuggestDonationInterest</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#TopNav">TopNav</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#TransitionLeft">TransitionLeft</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#UpdateDonationInformation">UpdateDonationInformation</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updateElectiveCourse">updateElectiveCourse</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updateElectiveCourseRequest">updateElectiveCourseRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updatePassRequest">updatePassRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updatePasswordInformation">updatePasswordInformation</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updateUserInformation">updateUserInformation</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#UploadDonationQRCode">UploadDonationQRCode</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#upsertAdminDonationText">upsertAdminDonationText</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#useAuth">useAuth</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#useAuthContext">useAuthContext</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#useMockedUser">useMockedUser</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#useNProgress">useNProgress</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#usePopover">usePopover</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#useSelection">useSelection</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#warning">warning</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#WhyDonateInnopolis">WhyDonateInnopolis</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#withAlphas">withAlphas</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#withAuthGuard">withAuthGuard</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">sections/request-pass/create-pass-request.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useCallback, useState } from 'react';
import {
  Box,
  Button,
  Card,
  CardActions,
  CardContent,
  CardHeader,
  Divider,
  TextField,
  Unstable_Grid2 as Grid
} from '@mui/material';
import { DatePicker } from '@mui/x-date-pickers/DatePicker';
import { useAuth } from 'src/hooks/use-auth';

/**
 * CreatePassRequest component.
 * @param {Object} props - The props for the CreatePassRequest component.
 * @param {Function} props.sendRequest - Function to send pass request.
 */
export const CreatePassRequest = ({ sendRequest }) => {
  const { user } = useAuth();
  const [requestDate, setRequestDate] = useState(new Date())
  const [guestInput, setGuestInput] = useState("")
  const [guests, setGuests] = useState([user.name]);
  const [description, setDescription] = useState("")

  const handleChange = useCallback(
    (event) => {
      setValues((prevState) => ({
        ...prevState,
        [event.target.name]: event.target.value
      }));
    },
    []
  );

  const handleSubmit = useCallback(
    (event) => {
      event.preventDefault();
    },
    []
  );
  const handleDeleteGuest = (i) => {
    const newGuests = guests.filter((guest, index) => index !== i)
    setGuests(newGuests)
  }

  const handleMakeRequest = async (e) => {
    e.preventDefault();

    const request = {
      requested_date: requestDate.toISOString().split('T')[0],
      guests,
      description,
    }
    sendRequest({ request })

    setRequestDate(new Date())
    setGuestInput("")
    setGuests([user.name])
    setDescription("")
  }

  return (
    &lt;form
      autoComplete="off"
      onSubmit={handleMakeRequest}
      style={{ minWidth: 600 }}
    >
      &lt;Card>
        &lt;CardHeader
          subheader="Create a new pass request"
          title="Request a Pass"
          sx={{ m: 1.5 }}
        />
        &lt;CardContent sx={{ pt: 0 }}>
          &lt;Box sx={{ m: 1.5 }}>
            &lt;div>
              &lt;DatePicker
                required
                label="Request Date"
                value={requestDate}
                onChange={(newValue) => {
                  setRequestDate(newValue);
                }}
                renderInput={({ InputProps, ...params }) =>
                  &lt;div style={{ display: 'flex', }}>
                    &lt;TextField {...params}
                      name="requestDate"
                      required
                      helperText="Please specify the date you wish to visit the university" />
                    &lt;div
                      style={{ marginLeft: 30, border: '2px solid #6366F1', display: 'flex', borderRadius: 10, justifyContent: 'center', alignItems: "center", paddingRight: 20, height: 56, backgroundColor: '#FFFFFF' }}
                    >{InputProps?.endAdornment}
                    &lt;/div>
                  &lt;/div>
                }
              />


            &lt;/div>
            &lt;div style={{ display: 'flex', marginTop: '30px' }}>
              &lt;TextField
                style={{ marginRight: 30 }}
                helperText="Enter the full names of your guests"
                label="Guest Name"
                name="guestName"
                onChange={(e) => setGuestInput(e.target.value)}
                onKeyDown={(e) => {
                  e.stopPropagation()
                  if (e.key === 'Enter' &amp;&amp; guestInput !== '' &amp;&amp; e.preventDefault()) {
                    setGuests((prev) => [...prev, guestInput])
                    setGuestInput("")
                  }
                }}
                value={guestInput}

              />

              &lt;Button
                style={{ height: 56, border: "2px solid #6366F1" }}
                onClick={(e) => {
                  if (guestInput !== '') {
                    setGuests((prev) => [...prev, guestInput])
                    setGuestInput("")
                  }
                }} >
                &lt;svg xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  strokeWidth={1.5}
                  stroke="currentColor"
                  className="w-6 h-6">
                  &lt;path strokeLinecap="round"
                    strokeLinejoin="round"
                    d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z" />
                &lt;/svg>
              &lt;/Button>
            &lt;/div>
            &lt;div style={{ display: 'flex', flexWrap: "wrap", gap: 10, marginTop: '30px' }}>
              {guests.map((guest, i) => (
                &lt;div key={`${guest}-${i}`}
                  style={{ border: '2px solid #41BA21', borderRadius: '8px', padding: "10px 16px", display: 'flex', alignItems: 'center' }}
                >
                  &lt;span>
                    {guest}

                  &lt;/span>
                  {(user.name !== guest) &amp;&amp; (&lt;span
                    onClick={() => handleDeleteGuest(i)}
                    style={{ cursor: 'pointer' }}
                  >
                    &lt;svg xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      strokeWidth={2.5}
                      stroke="#C75146"
                      style={{ marginLeft: 8, width: 30, height: 30, display: 'flex', alignItems: 'center' }}>
                      &lt;path strokeLinecap="round"
                        strokeLinejoin="round"
                        d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    &lt;/svg>
                  &lt;/span>)
                  }

                &lt;/div>

              ))}
            &lt;/div>
            &lt;div style={{ marginTop: '40px' }}>
              &lt;TextField
                fullWidth
                helperText="Share your situation so your demand could be processed accurately"
                label="Brief Description (Optional)"
                name="description"
                multiline
                rows={4}
                onChange={(e) => setDescription(e.target.value)}
                value={description}
              />
            &lt;/div>
          &lt;/Box>
        &lt;/CardContent>
        &lt;Divider />
        &lt;CardActions sx={{ justifyContent: 'flex-end', mx: 3.5, py: 3 }}>
          &lt;Button variant="contained"
            type='submit'
          >
            Make Request
          &lt;/Button>
        &lt;/CardActions>
      &lt;/Card>
    &lt;/form >
  );
};
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Sun Mar 03 2024 21:48:29 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
